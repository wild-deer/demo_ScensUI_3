import{_ as Be,r as a,c as Y,i as Ee,a as r,b as l,n as T,d as m,w as j,v as V,j as Ze,F as xe,k as ge,t as _,f as Ae,u as Le,o}from"./index-DcoPBRTl.js";import{d as Me}from"./index-UcaH2mKL.js";const Oe={class:"flex flex-col h-screen w-screen text-white inset-0 m-0 p-0 overflow-hidden bg-cover bg-center"},Ke={class:"flex flex-1 p-4 gap-4 overflow-hidden"},He={class:"w-100 max-w-[28rem] flex-shrink-0 rounded-lg border border-gray-200 bg-gray-100 p-4 text-slate-900 flex flex-col overflow-y-auto"},We={class:"flex gap-2 mb-4 text-[12px] flex-wrap flex-shrink-0"},Ye={class:"flex-1 overflow-y-auto pr-1"},Ge={key:0,class:"space-y-4"},Je={key:1,class:"space-y-4"},qe={key:2,class:"space-y-4"},Qe={key:3,class:"space-y-4"},Xe={key:0},el={key:1,class:"bg-white p-3 rounded border border-gray-200"},ll={key:0,class:"text-sm text-gray-500"},tl={key:1,class:"max-h-48 overflow-y-auto space-y-2"},sl={class:"text-sm w-16"},al=["onUpdate:modelValue"],nl={key:4,class:"space-y-4"},rl={key:5,class:"mt-4 p-2 bg-red-100 border border-red-300 text-red-700 text-sm rounded"},ol={class:"mt-6 border-t border-gray-300 pt-4"},il={class:"flex justify-between text-xs text-gray-500 mt-1"},ul={class:"mt-4 pt-4 border-t border-gray-300 flex-shrink-0"},dl={key:0,class:"mb-4 space-y-2 text-sm"},vl={key:0,class:"flex items-center justify-between bg-white p-2 rounded border"},fl=["href","download"],pl={key:1,class:"flex items-center justify-between bg-white p-2 rounded border"},cl=["href"],bl={key:2,class:"flex items-center justify-between bg-white p-2 rounded border"},ml=["href"],xl={key:3,class:"flex items-center justify-between bg-white p-2 rounded border"},gl=["href"],yl={key:4,class:"space-y-1 mt-2"},wl=["href","download"],hl={key:5,class:"flex items-center justify-between bg-white p-2 rounded border mt-2"},kl=["href"],_l={key:6,class:"mt-2 text-xs text-gray-600 bg-gray-50 p-2 rounded"},Cl=["disabled"],Ul={class:"flex-1 rounded-lg border border-gray-200 bg-gray-100 overflow-hidden relative flex flex-col"},Pl={key:0,class:"flex-1 overflow-auto flex items-center justify-center p-4"},zl=["src"],Sl={key:1,class:"flex-1 flex items-center justify-center text-gray-400"},Fl={__name:"Pmwytj",setup(Tl){const ye=Le(),u=a("c"),c=a(""),B=a(500),G="http://localhost:25376/",g=G.endsWith("/")?G:`${G}/`,p=t=>t?/^https?:\/\//i.test(t)?t:t.startsWith("/")?g+t.slice(1):g+t:"",J=a(null),q=a(null),C=a("idle"),Q=a(null),X=a(""),ee=a(null),le=a(null),te=a(null),U=a("idle"),se=a(null),ae=a(""),ne=a(null),E=a(null),Z=a("average"),A=a(500),P=a("idle"),re=a(null),oe=a(""),D=a(null),R=a([]),$=a({}),v=a("idle"),L=a(null),M=a(""),I=a(null),ie=a(null),ue=a(.1),z=a("idle"),de=a(null),ve=a(""),N=t=>u.value===t?"px-3 py-2 rounded-md bg-blue-600 text-white font-medium shadow-sm":"px-3 py-2 rounded-md bg-gray-200 text-slate-900 hover:bg-gray-300 transition-colors",y=Y(()=>{switch(u.value){case"c":return C.value;case"k":return U.value;case"ls":return P.value;case"p":return v.value;default:return z.value}}),d=Y(()=>{switch(u.value){case"c":return Q.value;case"k":return se.value;case"ls":return re.value;case"p":return L.value;default:return de.value}}),ce=Y(()=>{switch(u.value){case"c":return X.value;case"k":return ae.value;case"ls":return oe.value;case"p":return M.value;default:return ve.value}}),we=Y(()=>{const t=y.value;if(t==="running"||t==="preparing"||t==="applying")return"å¤„ç†ä¸­...";if(u.value==="p"){if(t==="idle")return"ä¸Šä¼ å¹¶è§£æ";if(t==="prepared")return"è®¡ç®— P å› å­";if(t==="done")return"é‡æ–°å¼€å§‹"}else if(t==="done")return"é‡æ–°è®¡ç®—";return"å¼€å§‹è®¡ç®—"});Ee(u,()=>{c.value=""});const he=()=>{c.value="",u.value==="c"?(C.value==="idle"||C.value==="done")&&De():u.value==="k"?(U.value==="idle"||U.value==="done")&&Re():u.value==="ls"?(P.value==="idle"||P.value==="done")&&$e():u.value==="p"?v.value==="idle"?Ie():v.value==="prepared"?Ne():v.value==="done"&&(v.value="idle",L.value=null,M.value="",R.value=[],$.value={}):(z.value==="idle"||z.value==="done")&&Ve()},ke=t=>{var e;J.value=((e=t.target.files)==null?void 0:e[0])??null},_e=t=>{var e;q.value=((e=t.target.files)==null?void 0:e[0])??null},Ce=t=>{var e;ee.value=((e=t.target.files)==null?void 0:e[0])??null},Ue=t=>{var e;le.value=((e=t.target.files)==null?void 0:e[0])??null},Pe=t=>{var e;te.value=((e=t.target.files)==null?void 0:e[0])??null},ze=t=>{var e;ne.value=((e=t.target.files)==null?void 0:e[0])??null},Se=t=>{var e;D.value=((e=t.target.files)==null?void 0:e[0])??null},Fe=t=>{I.value=t.target.files},Te=t=>{var e;ie.value=((e=t.target.files)==null?void 0:e[0])??null},je=()=>{ye.push({name:"home"})},De=async()=>{if(!J.value||!q.value){c.value="è¯·ä¸Šä¼  NDVI å’ŒèŒƒå›´ ZIP æ–‡ä»¶";return}C.value="running",Q.value=null,X.value="";try{const t=new FormData;t.append("ndvi_file",J.value),t.append("shp_zip",q.value);const e=await fetch(`${g}c-factor`,{method:"POST",body:t});if(!e.ok)throw new Error(`è¯·æ±‚å¤±è´¥: ${e.statusText}`);const s=await e.json();Q.value={mainUrl:p(s.c_tif_url),mainName:"C_Factor.tif",visUrl:p(s.visualization_url),reportUrl:p(s.report_url),stats:s.c_stats},X.value=p(s.visualization_url),C.value="done"}catch(t){console.error(t),c.value="è®¡ç®—å¤±è´¥: "+t.message,C.value="idle"}},Re=async()=>{if(!ee.value||!te.value||!le.value){c.value="è¯·ä¸Šä¼ æ …æ ¼ã€å±æ€§è¡¨å’ŒèŒƒå›´ ZIP æ–‡ä»¶";return}U.value="running",se.value=null,ae.value="";try{const t=new FormData;t.append("raster_file",ee.value),t.append("shp_zip",te.value),t.append("attribute_xls",le.value);const e=await fetch(`${g}k-factor`,{method:"POST",body:t});if(!e.ok)throw new Error(`è¯·æ±‚å¤±è´¥: ${e.statusText}`);const s=await e.json();se.value={mainUrl:p(s.k_tif_url),mainName:"K_Factor.tif",csvUrl:p(s.k_values_csv_url),stats:s.k_stats};const f=await fetch(p(s.k_tif_url)).then(i=>i.blob());ae.value=await O(f),U.value="done"}catch(t){console.error(t),c.value="è®¡ç®—å¤±è´¥: "+t.message,U.value="idle"}},$e=async()=>{if(!ne.value){c.value="è¯·ä¸Šä¼  DEM æ–‡ä»¶";return}P.value="running",re.value=null,oe.value="";try{const t=new FormData;t.append("dem_file",ne.value),E.value&&t.append("target_resolution",E.value),Z.value&&t.append("resample_method",Z.value),A.value&&t.append("chunk_size",A.value);const e=await fetch(`${g}ls-factor`,{method:"POST",body:t});if(!e.ok)throw new Error(`è¯·æ±‚å¤±è´¥: ${e.statusText}`);const s=await e.json();re.value={mainUrl:p(s.ls_tif_url),mainName:"LS_Factor.tif",reportUrl:p(s.log_url),stats:s.ls_stats};const f=await fetch(p(s.ls_tif_url)).then(i=>i.blob());oe.value=await O(f),P.value="done"}catch(t){console.error(t),c.value="è®¡ç®—å¤±è´¥: "+t.message,P.value="idle"}},Ie=async()=>{if(!D.value){c.value="è¯·ä¸Šä¼ åˆ†ç±»æ …æ ¼ ZIP";return}v.value="preparing",R.value=[],$.value={};try{const t=new FormData;t.append("category_tif",D.value);const e=await fetch(`${g}p-factor/prepare`,{method:"POST",body:t});if(!e.ok)throw new Error(`è¯·æ±‚å¤±è´¥: ${e.statusText}`);const s=await e.json();s.values&&Array.isArray(s.values)&&(R.value=s.values.sort((f,i)=>f-i)),v.value="prepared"}catch(t){console.error(t),c.value="è§£æå¤±è´¥: "+t.message,v.value="idle"}},Ne=async()=>{if(!D.value){c.value="æ–‡ä»¶ä¸¢å¤±ï¼Œè¯·é‡æ–°ä¸Šä¼ ",v.value="idle";return}const t={...$.value};for(const e in t)t[e]=parseFloat(t[e]);v.value="applying",L.value=null,M.value="";try{const e=new FormData;e.append("category_tif",D.value),e.append("value_p_mapping",JSON.stringify(t));const s=await fetch(`${g}p-factor/apply`,{method:"POST",body:e});if(!s.ok)throw new Error(`è¯·æ±‚å¤±è´¥: ${s.statusText}`);const f=await s.json();L.value={mainUrl:p(f.p_tif_url),mainName:"P_Factor.tif",visUrl:f.attributes_zip_url?p(f.attributes_zip_url):null};const i=await fetch(p(f.p_tif_url)).then(n=>n.blob());M.value=await O(i),v.value="done"}catch(e){console.error(e),c.value="è®¡ç®—å¤±è´¥: "+e.message,v.value="prepared"}},Ve=async()=>{if(!I.value||I.value.length===0||!ie.value){c.value="è¯·ä¸Šä¼ å¹´ä»½æ•°æ® ZIP å’ŒèŒƒå›´ ZIP";return}z.value="running",de.value=null,ve.value="";try{const t=new FormData;for(let i=0;i<I.value.length;i++)t.append("years_zip",I.value[i]);t.append("shp_zip",ie.value),t.append("scale_factor",ue.value);const e=await fetch(`${g}r-factor`,{method:"POST",body:t});if(!e.ok)throw new Error(`è¯·æ±‚å¤±è´¥: ${e.statusText}`);const s=await e.json();de.value={mainUrl:p(s.r_tif_url),mainName:"R_Factor.tif",yearsUrls:s.years_zip_url?s.years_zip_url.map(p):[],shpUrl:s.shp_zip_url?p(s.shp_zip_url):null,stats:s.r_stats};const f=await fetch(p(s.r_tif_url)).then(i=>i.blob());ve.value=await O(f),z.value="done"}catch(t){console.error(t),c.value="è®¡ç®—å¤±è´¥: "+t.message,z.value="idle"}},O=async t=>{try{const e=await t.arrayBuffer(),s=Me(e);if(!s||s.length===0)return"";const f=s[0],{width:i,height:n,data:b}=f,K=i*n,fe=f.samplesPerPixel||b.length/K,H=document.createElement("canvas");H.width=i,H.height=n;const be=H.getContext("2d"),me=be.createImageData(i,n),w=me.data;if(fe===1){let x=1/0,h=-1/0;for(let k=0;k<K;k++){const F=b[k];F<x&&(x=F),F>h&&(h=F)}const S=h-x||1;for(let k=0;k<K;k++){const F=b[k],pe=Math.floor((F-x)/S*255),W=k*4;w[W]=pe,w[W+1]=pe,w[W+2]=pe,w[W+3]=255}}else for(let x=0;x<K;x++){const h=x*fe,S=x*4;w[S]=b[h],w[S+1]=b[h+1],w[S+2]=b[h+2],w[S+3]=fe>3?b[h+3]:255}return be.putImageData(me,0,0),H.toDataURL("image/png")}catch(e){return console.error("TIFF render error:",e),""}};return(t,e)=>{var s,f,i;return o(),r("div",Oe,[l("header",{class:"flex items-center px-5"},[l("button",{onClick:je,class:"mr-4 bg-gray-100 text-slate-900 hover:bg-gray-300 h-full grid place-items-center rounded-l-lg","aria-label":"è¿”å›ä¸»é¡µ"},[...e[10]||(e[10]=[l("div",{class:"px-4 text-2xl"},"è¿”å›",-1)])]),e[11]||(e[11]=l("div",{class:"flex-1 text-center bg-gray-100 text-black py-6 px-10 rounded-r-lg text-3xl font-bold tracking-wide select-none"}," å¡é¢ç‰©æºä½“ç§¯ ",-1))]),l("div",Ke,[l("aside",He,[e[42]||(e[42]=l("div",{class:"mb-3 text-sm font-semibold text-slate-700"},"å­åŠŸèƒ½",-1)),l("div",We,[l("button",{onClick:e[0]||(e[0]=n=>u.value="c"),class:T([N("c"),"flex-1 min-w-[4rem]"])},"C å› å­",2),l("button",{onClick:e[1]||(e[1]=n=>u.value="k"),class:T([N("k"),"flex-1 min-w-[4rem]"])},"K å› å­",2),l("button",{onClick:e[2]||(e[2]=n=>u.value="ls"),class:T([N("ls"),"flex-1 min-w-[4rem]"])},"LS å› å­",2),l("button",{onClick:e[3]||(e[3]=n=>u.value="p"),class:T([N("p"),"flex-1 min-w-[4rem]"])},"P å› å­",2),l("button",{onClick:e[4]||(e[4]=n=>u.value="r"),class:T([N("r"),"flex-1 min-w-[4rem]"])},"R å› å­",2)]),l("div",Ye,[e[30]||(e[30]=l("div",{class:"mb-3 text-lg font-bold text-slate-700 pb-2"},"è¾“å…¥æ–‡ä»¶ä¸å‚æ•°",-1)),u.value==="c"?(o(),r("div",Ge,[l("div",null,[e[12]||(e[12]=l("label",{class:"block text-sm mb-2 text-slate-700"},"NDVI æ–‡ä»¶ (.tif)",-1)),l("input",{type:"file",accept:".tif,.tiff",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",onChange:ke},null,32)]),l("div",null,[e[13]||(e[13]=l("label",{class:"block text-sm mb-2 text-slate-700"},"èŒƒå›´æ–‡ä»¶ (.zip)",-1)),e[14]||(e[14]=l("div",{class:"text-xs text-gray-500 mb-1"},"åŒ…å« .shp, .shx, .dbf, .prj çš„å‹ç¼©åŒ…",-1)),l("input",{type:"file",accept:".zip",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",onChange:_e},null,32)])])):u.value==="k"?(o(),r("div",Je,[l("div",null,[e[15]||(e[15]=l("label",{class:"block text-sm mb-2 text-slate-700"},"æ …æ ¼æ–‡ä»¶ (.bil, .zip, .tif)",-1)),l("input",{type:"file",accept:".bil,.zip,.tif,.tiff",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",onChange:Ce},null,32)]),l("div",null,[e[16]||(e[16]=l("label",{class:"block text-sm mb-2 text-slate-700"},"å±æ€§è¡¨ (.xls, .xlsx)",-1)),l("input",{type:"file",accept:".xls,.xlsx",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",onChange:Ue},null,32)]),l("div",null,[e[17]||(e[17]=l("label",{class:"block text-sm mb-2 text-slate-700"},"èŒƒå›´æ–‡ä»¶ (.zip)",-1)),l("input",{type:"file",accept:".zip",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",onChange:Pe},null,32)])])):u.value==="ls"?(o(),r("div",qe,[l("div",null,[e[18]||(e[18]=l("label",{class:"block text-sm mb-2 text-slate-700"},"DEM æ–‡ä»¶ (.tif, .zip)",-1)),l("input",{type:"file",accept:".tif,.tiff,.zip",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",onChange:ze},null,32)]),l("div",null,[e[19]||(e[19]=l("label",{class:"block text-sm mb-2 text-slate-700"},"ç›®æ ‡åˆ†è¾¨ç‡ (ç±³, å¯é€‰)",-1)),j(l("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>E.value=n),type:"number",min:"0.1",step:"0.1",placeholder:"é»˜è®¤ä¸é‡é‡‡æ ·",class:"w-full px-3 py-2 rounded-md bg-gray-100 border border-gray-300 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[V,E.value,void 0,{number:!0}]])]),l("div",null,[e[21]||(e[21]=l("label",{class:"block text-sm mb-2 text-slate-700"},"é‡é‡‡æ ·æ–¹æ³•",-1)),j(l("select",{"onUpdate:modelValue":e[6]||(e[6]=n=>Z.value=n),class:"w-full px-3 py-2 rounded-md bg-gray-100 border border-gray-300 text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...e[20]||(e[20]=[l("option",{value:"average "},"Average",-1),l("option",{value:"bilinear"},"Bilinear",-1),l("option",{value:"cubic"},"Cubic",-1)])],512),[[Ze,Z.value]])]),l("div",null,[e[22]||(e[22]=l("label",{class:"block text-sm mb-2 text-slate-700"},"åˆ†å—å¤§å° (é»˜è®¤ 500)",-1)),j(l("input",{"onUpdate:modelValue":e[7]||(e[7]=n=>A.value=n),type:"number",min:"100",step:"100",class:"w-full px-3 py-2 rounded-md bg-gray-100 border border-gray-300 text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[V,A.value,void 0,{number:!0}]])])])):u.value==="p"?(o(),r("div",Qe,[v.value==="idle"||v.value==="preparing"||v.value==="prepared"?(o(),r("div",Xe,[e[23]||(e[23]=l("label",{class:"block text-sm mb-2 text-slate-700"},"åˆ†ç±»æ …æ ¼ (.zip)",-1)),e[24]||(e[24]=l("div",{class:"text-xs text-gray-500 mb-1"},"åŒ…å«åˆ†ç±» .tif çš„å‹ç¼©åŒ…",-1)),l("input",{type:"file",accept:".zip",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",onChange:Se},null,32)])):m("",!0),v.value==="prepared"||v.value==="applying"||v.value==="done"?(o(),r("div",el,[e[25]||(e[25]=l("div",{class:"text-sm font-bold mb-2"},"P å€¼æ˜ å°„è®¾ç½®",-1)),R.value.length===0?(o(),r("div",ll,"æœªæ‰¾åˆ°åˆ†ç±»å€¼")):(o(),r("div",tl,[(o(!0),r(xe,null,ge(R.value,n=>(o(),r("div",{key:n,class:"flex items-center gap-2"},[l("span",sl,"ç±»åˆ« "+_(n)+":",1),j(l("input",{type:"number","onUpdate:modelValue":b=>$.value[n]=b,step:"0.01",min:"0",max:"1",class:"flex-1 px-2 py-1 text-sm border rounded focus:ring-1 focus:ring-blue-500 outline-none",placeholder:"På€¼ (0-1)"},null,8,al),[[V,$.value[n],void 0,{number:!0}]])]))),128))]))])):m("",!0)])):(o(),r("div",nl,[l("div",null,[e[26]||(e[26]=l("label",{class:"block text-sm mb-2 text-slate-700"},"é™é›¨é‡å¹´ä»½æ•°æ® (.zip)",-1)),e[27]||(e[27]=l("div",{class:"text-xs text-gray-500 mb-1"},"å¯å¤šé€‰ï¼Œæ¯ä¸ª Zip å«12ä¸ªæœˆä»½æ•°æ®",-1)),l("input",{type:"file",multiple:"",accept:".zip",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",onChange:Fe},null,32)]),l("div",null,[e[28]||(e[28]=l("label",{class:"block text-sm mb-2 text-slate-700"},"èŒƒå›´æ–‡ä»¶ (.zip)",-1)),l("input",{type:"file",accept:".zip",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",onChange:Te},null,32)]),l("div",null,[e[29]||(e[29]=l("label",{class:"block text-sm mb-2 text-slate-700"},"ç¼©æ”¾å‚æ•° (é»˜è®¤ 0.1)",-1)),j(l("input",{"onUpdate:modelValue":e[8]||(e[8]=n=>ue.value=n),type:"number",min:"0",step:"0.01",class:"w-full px-3 py-2 rounded-md bg-gray-100 border border-gray-300 text-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[V,ue.value,void 0,{number:!0}]])])])),c.value?(o(),r("div",rl,_(c.value),1)):m("",!0)]),l("div",ol,[e[33]||(e[33]=l("label",{class:"block text-sm font-bold text-slate-700 mb-2"},"å›¾ç‰‡é«˜åº¦æ§åˆ¶",-1)),j(l("input",{type:"range",min:"100",max:"1200","onUpdate:modelValue":e[9]||(e[9]=n=>B.value=n),class:"range range-primary range-sm w-full"},null,512),[[V,B.value]]),l("div",il,[e[31]||(e[31]=l("span",null,"å°",-1)),l("span",null,_(B.value)+"px",1),e[32]||(e[32]=l("span",null,"å¤§",-1))])]),l("div",ul,[e[41]||(e[41]=l("div",{class:"mb-3 text-lg font-bold text-slate-700 py-2"},"æ“ä½œä¸ç»“æœ",-1)),y.value==="done"&&d.value?(o(),r("div",dl,[e[40]||(e[40]=l("div",{class:"font-semibold text-green-600"},"è®¡ç®—å®Œæˆ",-1)),d.value.mainUrl?(o(),r("div",vl,[e[34]||(e[34]=l("span",null,"ä¸»è¦ç»“æœ",-1)),l("a",{href:d.value.mainUrl,download:d.value.mainName,class:"text-blue-600 hover:underline"},"ä¸‹è½½ TIF",8,fl)])):m("",!0),d.value.visUrl?(o(),r("div",pl,[e[35]||(e[35]=l("span",null,"å¯è§†åŒ–å›¾",-1)),l("a",{href:d.value.visUrl,download:"visualization.png",class:"text-blue-600 hover:underline"},"ä¸‹è½½ PNG",8,cl)])):m("",!0),d.value.reportUrl?(o(),r("div",bl,[e[36]||(e[36]=l("span",null,"ç»Ÿè®¡æŠ¥å‘Š",-1)),l("a",{href:d.value.reportUrl,download:"report.txt",class:"text-blue-600 hover:underline"},"ä¸‹è½½æŠ¥å‘Š",8,ml)])):m("",!0),d.value.csvUrl?(o(),r("div",xl,[e[37]||(e[37]=l("span",null,"CSV è¡¨æ ¼",-1)),l("a",{href:d.value.csvUrl,download:"data.csv",class:"text-blue-600 hover:underline"},"ä¸‹è½½ CSV",8,gl)])):m("",!0),d.value.yearsUrls&&d.value.yearsUrls.length?(o(),r("div",yl,[e[38]||(e[38]=l("div",{class:"text-xs font-semibold text-gray-600"},"å¹´ä»½æ•°æ®ä¸‹è½½:",-1)),(o(!0),r(xe,null,ge(d.value.yearsUrls,(n,b)=>(o(),r("div",{key:b,class:"flex items-center justify-between bg-white p-2 rounded border"},[l("span",null,"å¹´ä»½æ•°æ® "+_(b+1),1),l("a",{href:n,download:`years_data_${b+1}.zip`,class:"text-blue-600 hover:underline"},"ä¸‹è½½",8,wl)]))),128))])):m("",!0),d.value.shpUrl?(o(),r("div",hl,[e[39]||(e[39]=l("span",null,"èŒƒå›´æ–‡ä»¶",-1)),l("a",{href:d.value.shpUrl,download:"shp_data.zip",class:"text-blue-600 hover:underline"},"ä¸‹è½½ Zip",8,kl)])):m("",!0),d.value.stats?(o(),r("div",_l,[l("div",null,"æœ€å°å€¼: "+_((s=d.value.stats.min)==null?void 0:s.toFixed(4)),1),l("div",null,"æœ€å¤§å€¼: "+_((f=d.value.stats.max)==null?void 0:f.toFixed(4)),1),l("div",null,"å¹³å‡å€¼: "+_((i=d.value.stats.mean)==null?void 0:i.toFixed(4)),1)])):m("",!0)])):m("",!0),l("button",{class:T(["w-full py-2 rounded-md transition font-semibold",y.value==="running"||y.value==="preparing"||y.value==="applying"?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:scale-[.99]"]),disabled:y.value==="running"||y.value==="preparing"||y.value==="applying",onClick:he},_(we.value),11,Cl)])]),l("main",Ul,[ce.value?(o(),r("div",Pl,[l("img",{src:ce.value,style:Ae({height:B.value+"px"}),class:"object-contain max-w-full transition-all duration-200"},null,12,zl)])):(o(),r("div",Sl,[...e[43]||(e[43]=[l("div",{class:"text-center"},[l("div",{class:"text-4xl mb-2"},"ğŸ“Š"),l("div",null,"ç»“æœé¢„è§ˆåŒºåŸŸ")],-1)])]))])])])}}},Rl=Be(Fl,[["__scopeId","data-v-b9909ca1"]]);export{Rl as default};
